# ğŸ§¹ Layoffs Data Cleaning Project

## ğŸ“˜ Overview
This project focuses on **cleaning and standardizing a layoffs dataset** using MySQL.  
The dataset contains information about global company layoffs â€” including company names, industries, locations, dates, stages, and layoff counts.  

The goal is to **prepare the data for accurate analysis** by removing duplicates, correcting inconsistencies, handling missing values, and ensuring data integrity.  

---

## ğŸ§° Tools & Environment
- **SQL dialect:** MySQL  
- **Database Engine:** InnoDB  
- **Character Set:** UTF8MB4 (to support multilingual text)  

---

## ğŸ§© Project Steps

### **1ï¸âƒ£ Data Duplication (Staging)**
To protect raw data, a duplicate table was created:
```sql
CREATE TABLE layoffs_staging LIKE layoffs;
INSERT INTO layoffs_staging SELECT * FROM layoffs;
```
This staging table allows safe transformations without affecting the original data.

---

### **2ï¸âƒ£ Removing Duplicates**
Duplicates were detected using a **window function** with `ROW_NUMBER()`:
```sql
ROW_NUMBER() OVER (
  PARTITION BY company, location, industry, total_laid_off,
  percentage_laid_off, date, stage, country, funds_raised_millions
) AS row_num
```
Rows with `row_num > 1` were identified as duplicates and removed.

Resulting clean data was stored in a second staging table:
```sql
layoffs_staging2
```

---

### **3ï¸âƒ£ Standardizing Data**
Data inconsistencies were corrected to ensure uniformity:
- **Company names:** removed tabs/spaces using `TRIM(company)`  
- **Industry names:** standardized values such as â€œCryptoâ€ and â€œCrypto Currencyâ€ â†’ `Crypto`  
- **Country names:** removed extra dots from â€œUnited States.â€  
- **Date column:** converted from text to SQL `DATE` format using:
  ```sql
  STR_TO_DATE(date, '%m/%d/%Y')
  ```
  and updated column type:
  ```sql
  ALTER TABLE layoffs_staging2 MODIFY COLUMN date DATE;
  ```

---

### **4ï¸âƒ£ Managing NULLs and Blanks**
Blanks were replaced with `NULL`:
```sql
UPDATE layoffs_staging2 SET industry = NULL WHERE industry = '';
```
Missing industries and stages were **filled** using a **self-join** from other rows of the same company:
```sql
UPDATE t1
SET t1.industry = t2.industry
FROM layoffs_staging2 t1
JOIN layoffs_staging2 t2 ON t1.company = t2.company
WHERE t1.industry IS NULL AND t2.industry IS NOT NULL;
```

---

### **5ï¸âƒ£ Deleting Unnecessary Data**
Rows missing both `total_laid_off` and `percentage_laid_off` were removed since they provide no useful information:
```sql
DELETE FROM layoffs_staging2
WHERE total_laid_off IS NULL AND percentage_laid_off IS NULL;
```
The helper column `row_num` (used for duplicate detection) was also dropped:
```sql
ALTER TABLE layoffs_staging2 DROP COLUMN row_num;
```

---

## ğŸ“Š Results
After cleaning:
- No duplicate records remain.  
- All text fields are properly trimmed and standardized.  
- Dates are stored in proper SQL `DATE` format.  
- Missing industries and stages have been filled where possible.  
- Unusable rows (with missing numeric data) have been deleted.  

The final clean dataset is ready for **analysis and visualization**.

---

## ğŸ§  Key Concepts Demonstrated
- Data staging and safe updates  
- Duplicate detection with window functions  
- Text and date standardization  
- NULL and blank value management  
- Data integrity validation  

---

## ğŸ§¾ Author
**ğŸ‘¤ Zoubir Chatti**  
ğŸ“š Geophysicist & Data Analyst 
ğŸ“ Marseille, France  
